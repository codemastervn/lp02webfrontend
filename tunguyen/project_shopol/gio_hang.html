<!DOCTYPE html>
<html>
<head>
	<title>gio hang tgdd</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style/gio_hang.css">
</head>
<body>
	<div id="div1"></div>
	<div id="div2"></div>
	<div id="div3"></div>
	<script type="text/javascript">
		var t=1;
		var dsdt=[
			{
				ma: 1,
				h: 'h1_2.jpg',
				ten: 'Xioami note 10 Pro',
				gia: 14900000,
				giacu: '14.990.000đ',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.47&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 730G 8 nhân',
				ram: 'RAM: 8GB, ROM: 256GB',
				cam: 'Camera: Chính 108 MP 	&#38; Phụ 20 MP, 12 MP, 5 MP, 2 MP',
				se: 'Selfie: 32 MP',
				pin: 'Pin: 5260 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 2,
				h: 'h2_2.jpg',
				ten: 'Xioami note 10',
				gia: 12990000,
				giacu: '',
				km: 'Tặng máy lọc không khí xioami 2C Air Purifier và 1 K.mãi khác',
				mh: 'Màn hình: 6.47&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 730G 8 nhân',
				ram: 'RAM: 6GB, ROM: 128GB',
				cam: 'Camera: Chính 108 MP 	&#38; Phụ 20 MP, 12 MP, 5 MP, 2 MP',
				se: 'Selfie: 32 MP',
				pin: 'Pin: 5260 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 3,
				h: 'h3_2.jpg',
				ten: 'Xioami Mi 9SE',
				gia: 7490000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 5.97&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 712 8 nhân',
				ram: 'RAM: 6GB, ROM:  64GB',
				cam: 'Camera: Chính 48 MP & Phụ 13 MP, 8 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 3070 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 4,
				h: 'h4_2.jpg',
				ten: 'Xioami Mi 9T',
				gia: 7990000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.39&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 730 8 nhân',
				ram: 'RAM: 6GB, ROM:  64GB',
				cam: 'Camera: Chính 48 MP & Phụ 13 MP, 8 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 4000 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 5,
				h: 'h5_2.jpg',
				ten: 'Xioami Redmi note 8 Pro(6GB/128GB)',
				gia: 9190000,
				giacu: '6.490.000đ',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.53&rdquo;, Full HD+',
				cpu: 'CPU: Mediatek Helio G90T 8 nhân',
				ram: 'RAM: 6GB, ROM:  128GB',
				cam: 'Camera: Chính 64 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 4500 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 6,
				h: 'h6_2.jpg',
				ten: 'Xioami Redmi note 8 Pro(6GB/128GB) Xanh Dương',
				gia: 6190000,
				giacu: '6.490.000đ',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.53&rdquo;, Full HD+',
				cpu: 'CPU: Mediatek Helio G90T 8 nhân',
				ram: 'RAM: 6GB, ROM:  128GB',
				cam: 'Camera: Chính 64 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 4500 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 7,
				h: 'h7_2.jpg',
				ten: 'Xioami Redmi note 8 Pro(6GB/64GB)',
				gia: 5690000,
				giacu: '5.990.000đ',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.53&rdquo;, Full HD+',
				cpu: 'CPU: Mediatek Helio G90T 8 nhân',
				ram: 'RAM: 6GB, ROM:  64GB',
				cam: 'Camera: Chính 64 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 4500 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 8,
				h: 'h8_2.jpg',
				ten: 'Xioami Redmi note 8 Pro(6GB/64GB) Xanh Dương',
				gia: 5690000,
				giacu: '5.990.000đ',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.53&rdquo;, Full HD+',
				cpu: 'CPU: Mediatek Helio G90T 8 nhân',
				ram: 'RAM: 6GB, ROM:  64GB',
				cam: 'Camera: Chính 64 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 20 MP',
				pin: 'Pin: 4500 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 9,
				h: 'h9_2.jpg',
				ten: 'Xioami Redmi note 8 (4GB/128GB)',
				gia: 5490000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.3&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 665 8 nhân',
				ram: 'RAM: 4GB, ROM:  128GB',
				cam: 'Camera: Chính 48 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 13 MP',
				pin: 'Pin: 4000 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 10,
				h: 'h10_2.jpg',
				ten: 'Xioami Redmi note 8 (4GB/64GB)',
				gia: 4990000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.3&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 665 8 nhân',
				ram: 'RAM: 4GB, ROM:  64GB',
				cam: 'Camera: Chính 48 MP & Phụ 8 MP, 2 MP, 2 MP',
				se: 'Selfie: 13 MP',
				pin: 'Pin: 4000 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 11,
				h: 'h11_2.jpg',
				ten: 'Xioami Redmi note 7 (4GB/64GB)',
				gia: 4990000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.3&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 660 8 nhân',
				ram: 'RAM: 4GB, ROM:  64GB',
				cam: 'Camera: Chính 48 MP & Phụ 5 MP',
				se: 'Selfie: 13 MP',
				pin: 'Pin: 4000 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
			{
				ma: 12,
				h: 'h12_2.jpg',
				ten: 'Xioami Mi A3',
				gia: 4490000,
				giacu: '',
				km: 'Cơ hội trúng tiền mặt tổng trị giá lên đến 1,8 tỷ đồng',
				mh: 'Màn hình: 6.01&rdquo;, Full HD+',
				cpu: 'CPU: Snapdragon 665 8 nhân',
				ram: 'RAM: 4GB, ROM:  64GB',
				cam: 'Camera: Chính 48 MP & Phụ 8 MP, 2 MP',
				se: 'Selfie: 32 MP',
				pin: 'Pin: 4030 mAh, có sạc nhanh',
				mua: 'Mua',
				mtg: 'Mua trả góp',
				sl: 1
			},
		];
		var copy1 = JSON.parse(JSON.stringify(dsdt));
			var out1 = '';
			var out2 = '';
		

			var k=JSON.parse(sessionStorage.getItem("arr_index"));
			//console.log(k);
			
			
			var copy1 = dsdt.slice(0);
		function danhmuc1(){
			var out="<table id='table1'><tr><td id='td1_1'></td>";
			out+="<td id ='table1_1'><table><tr><td id='td2_1'>Thegioididong</td><td id='td3_1'>Bạn tìm gì...</td></tr></table></td>";
			out+="<td>ĐIỆN THOẠI</td>";
			out+="<td class='td_table1'>TABLET</td>";
			out+="<td class='td_table1'>LAPTOP</td>";
			out+="<td class='td_table1'>LAPTOP</td>";
			out+="<td class='td_table1'>PHỤ KIỆN</td>";
			out+="<td class='td_table1'>ĐỒNG HỒ</td>";
			out+="<td class='td_table1'>CŨ GIÁ RẺ</td>";
			out+="<td class='td_table1'>CÔNG NGHỆ</td>";
			out+="<td class='td_table1'>HỎI ĐÁP</td>";
			out+="<td class='td_table1'>Sim số thẻ cào</td>";
			out+="<td class='td_table1'>Đóng tiền điện, nước, trả góp</td>";
			out+="</tr></table>";
			document.getElementById("div1").innerHTML = out;
		}
		danhmuc1();
		function ht(){
			var out="<table id='table2'><tr><td id='td1_2'>&lsaquo; <a href='du_an_1.html'>Xem thêm sản phẩm khác</a></td><td id='td2_2'>Giỏ hàng của bạn</td></tr></table>";
			document.getElementById("div2").innerHTML=out;
		}
		ht();
		function tang(i){
			k[i].qty=k[i].qty+1;
			sessionStorage.setItem("arr_index",JSON.stringify(k));
			giohang();

		}
		function giam(i){
			if(k[i].qty>1)
			{
				k[i].qty=k[i].qty-1;
			}
			else 
			{
				k[i].qty=1;
			}
			sessionStorage.setItem("arr_index",JSON.stringify(k));
			giohang();

		}
		//var x=JSON.parse(sessionStorage.getItem("arr_index"));
		// var y=JSON.parse(sessionStorage.getItem("sl"));
		function giohang(){
			var out="<div id='div1_3'>";
			out1 = '';
			var tong_gia=0;
			for(var i = 0; i < k.length; i++)
			{
				for (var j = 0; j <dsdt.length; j++) {
					if(k[i].ms == dsdt[j].ma)
					{
						out1+=	"<div id='div4_3'>"+
									"<div id='div2_3'>"+ 
								        "<div id='div1_2_3'>"+
								        	"<img src='images/"+dsdt[j].h+"' id='h1'>"+
								        "</div>"+
										"<div id='div2_2_3'>"+
											"<p id='p1'> Điện thoại "+ dsdt[j].ten +"</p><p><ul><li>"+dsdt[j].km+"</li><ul></p>"+
										"</div>"+
										"<div>"+
											"<input type='button' onclick='xoa("+i+")' value='xóa'>"+
										"</div>"+
									"</div>"+

									"<div id='div3_3'>"+
										"<span id='span1'>"+numberWithCommas(dsdt[j].gia)+"đ</span>"+
										"<p><table id='table1_div3_3'><tr>"+
											"<td onclick='giam("+i+")'>-</td>"+
											"<td>"+k[i].qty+"</td>"+
											"<td onclick='tang("+i+")'>+</td>"+
										"</tr></table></p>"+
									"</div>"+
									"<table id='table2_div3_3'><tr><td></td></tr></table>"+
								"</div><br>";
						tong_gia += copy1[j].gia*k[i].qty;
					}
			
				}
				
			}
				

				 out2 =	"<div id='div5_3'>"+
							"<div id='div1_5_3'>"+
								"<p>Tổng tiền:</p><p>Giảm:</p><p  id='p2'>Cần thanh toán:</p>"+
							"</div>"+
							"<div id='div2_5_3'>"+
								"<p>"+numberWithCommas(tong_gia)+"đ</p><p>...</p><p id='p3'>"+numberWithCommas(tong_gia)+"đ</p>"+
							"</div>"+
						"</div>"+
					"</div>";
			document.getElementById("div3").innerHTML=out + out1 + out2;
		}
		giohang();
		
		function xoa(i){
			k.splice(i,1);
			sessionStorage.setItem("arr_index",JSON.stringify(k));
			giohang();
		}
		function xoaada(){
			out1="<a href='du_an_1.html'>giỏ hàng không tồn tại</a>";
			document.getElementById("div3").innerHTML=out1;
		}
		function numberWithCommas(x) {
    		return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
		}
	</script>

</body>
</html>